<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT MSP Customer Interest Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .overlay-bg {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 900;
            opacity: 0;
            transition: opacity 2s ease-in-out;
        }
        .overlay-form {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.7);
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            width: 350px;
            max-height: 90vh;
            overflow-y: auto;
            opacity: 0;
            transition: opacity 4s ease-in-out, transform 10s ease-in-out;
        }
        .overlay-bg.show, .overlay-form.show {
            display: block;
            opacity: 1;
        }
        .overlay-form.show {
            transform: translate(-50%, -50%) scale(1);
        }
        .main-content {
            position: relative;
            padding: 50px;
        }
        .show-form-btn {
            position: relative;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="main-content text-center">
        <button id="showFormBtn" class="btn btn-primary show-form-btn">Contact Us</button>
        
        <div id="overlayBg" class="overlay-bg"></div>

        <div id="overlayForm" class="overlay-form">
            <h2 class="text-center mb-4">Customer Interest Form</h2>
            <form id="contactForm" action="https://docs.google.com/forms/d/e/1FAIpQLSfAXa2arcf2erg72cfmIcnHu0sAyO2vmWeJ3l7BPcYS3QvxvQ/formResponse" method="POST">
                <div class="mb-3">
                    <label for="name" class="form-label">Name</label>
                    <input type="text" class="form-control" id="name" name="entry.2047629859" placeholder="Your name" required>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email address</label>
                    <input type="email" class="form-control" id="email" name="entry.660815575" placeholder="name@example.com" required>
                </div>
                <div class="mb-3">
                    <label for="phone" class="form-label">Phone Number</label>
                    <input type="tel" class="form-control" id="phone" name="entry.353853221" placeholder="(123) 456-7890" required>
                </div>
                <div class="mb-3">
                    <label for="company" class="form-label">Company Name</label>
                    <input type="text" class="form-control" id="company" name="entry.679195607" placeholder="Your company">
                </div>
                <div class="mb-3">
                    <label for="services" class="form-label">Services Interested In</label>
                    <select class="form-select" id="services" name="entry.1758254148">
                        <option value="it-support">IT Support</option>
                        <option value="network-management">Network Management</option>
                        <option value="cloud-services">Cloud Services</option>
                        <option value="consulting">Consulting</option>
                    </select>
                </div>
                <div class="text-center">
                    <button type="submit" class="btn btn-success">Submit</button>
                    <button type="button" id="closeFormBtn" class="btn btn-danger">Close</button>
                </div>
            </form>
            <div id="formMessage" class="mt-3" style="display: none;"></div>
        </div>
    </div>

    <script>
        const showFormBtn = document.getElementById('showFormBtn');
        const overlayForm = document.getElementById('overlayForm');
        const overlayBg = document.getElementById('overlayBg');
        const closeFormBtn = document.getElementById('closeFormBtn');
        const contactForm = document.getElementById('contactForm');
        const formMessage = document.getElementById('formMessage');

        function showForm() {
            overlayForm.classList.add('show');
            overlayBg.classList.add('show');
        }

        function hideForm() {
            overlayForm.classList.remove('show');
            overlayBg.classList.remove('show');
        }

        showFormBtn.addEventListener('click', showForm);
        closeFormBtn.addEventListener('click', hideForm);
        overlayBg.addEventListener('click', hideForm);

        contactForm.addEventListener('submit', async (event) => {
            event.preventDefault(); // Prevent the default form submission

            const formData = new FormData(contactForm);

            try {
                const response = await fetch(contactForm.action, {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors', // Necessary for cross-origin requests
                });

                // Display a success message
                formMessage.style.display = 'block';
                formMessage.innerHTML = '<div class="alert alert-success">Your submission has been received! Thank you.</div>';

                // Optionally, reset the form fields
                contactForm.reset();
            } catch (error) {
                console.error('Error:', error);
                formMessage.style.display = 'block';
                formMessage.innerHTML = '<div class="alert alert-danger">There was an error submitting your form. Please try again.</div>';
            }
        });
    </script>
</body>
</html>